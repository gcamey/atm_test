
<div class="content">
  <div class="container-title">
    <span class="title">{{'i18n_ATM_SEARCH.atm_search' | translate}}</span>
  </div>
  <table mat-table matTableFilter [exampleEntity]="filterEntity" [filterType]="filterType" [dataSource]="dataSource" matSort>

    <!-- clientName Column -->
    <ng-container matColumnDef="clientName">
      <th mat-header-cell *matHeaderCellDef class="header left-rounded">
        <div class="header-div header-div-left">
          <a mat-sort-header class="header-sort" *ngIf="!showClientFilter">
            {{'i18n_ATM_SEARCH.client' | translate}}
          </a>
          <mat-form-field [ngClass]="showClientFilter ? '' : 'hide_element'" class="search-field">
            <input matInput placeholder="{{'i18n_ATM_SEARCH.client' | translate}}" #searchClientFilter class="search-input"
              [(ngModel)]="filterEntity.clientName" />
          </mat-form-field>
          <button class="search-button" (click)="toggleShowClientFilter()">
            <mat-icon matSuffix class="material-symbols-outlined actions-icon" aria-hidden="false" aria-label="Search">search</mat-icon>
          </button>
        </div>
      </th>
      <td mat-cell *matCellDef="let row; let i = index" class="cell cell-left" [ngClass]="i===0?'upper-left-rounded':''"> {{row.clientName}}</td>
    </ng-container>

    <!-- atmName Column -->
    <ng-container matColumnDef="atmName">
      <th mat-header-cell *matHeaderCellDef class="header">
        <div class="header-div">
          <a mat-sort-header class="header-sort" *ngIf="!showAtmNameFilter">
            {{'i18n_ATM_SEARCH.atm_name' | translate}}
          </a>
          <mat-form-field [ngClass]="showAtmNameFilter ? '' : 'hide_element'" class="search-field">
            <input matInput placeholder="{{'i18n_ATM_SEARCH.atm_name' | translate}}" #searchAtmNameFilter class="search-input"
              [(ngModel)]="filterEntity.atmName" />
          </mat-form-field>
          <button class="search-button" (click)="toggleShowAtmNameFilter()">
            <mat-icon matSuffix class="material-symbols-outlined actions-icon" aria-hidden="false" aria-label="Search">search</mat-icon>
          </button>
        </div>
      </th>
      <td mat-cell *matCellDef="let row" class="cell"> {{row.atmName}} </td>
    </ng-container>

    <!-- location Column -->
    <ng-container matColumnDef="location">
      <th mat-header-cell *matHeaderCellDef class="header">
        <div class="header-div">
          <a mat-sort-header class="header-sort" *ngIf="!showLocationFilter">
            {{'i18n_ATM_SEARCH.location' | translate}}
          </a>
          <mat-form-field [ngClass]="showLocationFilter ? '' : 'hide_element'" class="search-field">
            <input matInput placeholder="{{'i18n_ATM_SEARCH.location' | translate}}" #searchLocationFilter class="search-input"
              [(ngModel)]="filterEntity.location" />
          </mat-form-field>
          <button class="search-button" (click)="toggleShowLocationFilter()">
            <mat-icon matSuffix class="material-symbols-outlined actions-icon" aria-hidden="false" aria-label="Search">search</mat-icon>
          </button>
        </div>
      </th>
      <td mat-cell *matCellDef="let row" class="cell"> {{row.location}} </td>
    </ng-container>

    <!-- model Column -->
    <ng-container matColumnDef="model">
      <th mat-header-cell *matHeaderCellDef class="header">
        <div class="header-div">
          <a mat-sort-header class="header-sort" *ngIf="!showModelFilter">
            {{'i18n_ATM_SEARCH.model' | translate}}
          </a>
          <mat-form-field [ngClass]="showModelFilter ? '' : 'hide_element'" class="search-field">
            <input matInput placeholder="{{'i18n_ATM_SEARCH.model' | translate}}" #searchModelFilter class="search-input"
              [(ngModel)]="filterEntity.model" />
          </mat-form-field>
          <button class="search-button" (click)="toggleShowModelFilter()">
            <mat-icon matSuffix class="material-symbols-outlined actions-icon" aria-hidden="false" aria-label="Search">search</mat-icon>
          </button>
        </div>
      </th>
      <td mat-cell *matCellDef="let row" class="cell"> {{row.model}} </td>
    </ng-container>

    <!-- responsible Column -->
    <ng-container matColumnDef="responsible">
      <th mat-header-cell *matHeaderCellDef class="header">
        <div class="header-div">
          <a mat-sort-header class="header-sort" *ngIf="!showResponsibleFilter">
            {{'i18n_ATM_SEARCH.responsible' | translate}}
          </a>
          <mat-form-field [ngClass]="showResponsibleFilter ? '' : 'hide_element'" class="search-field">
            <input matInput placeholder="{{'i18n_ATM_SEARCH.responsible' | translate}}" #searchResponsibleFilter class="search-input"
              [(ngModel)]="filterEntity.responsible" />
          </mat-form-field>
          <button class="search-button" (click)="toggleShowResponsibleFilter()">
            <mat-icon matSuffix class="material-symbols-outlined actions-icon" aria-hidden="false" aria-label="Search">search</mat-icon>
          </button>
        </div>
      </th>
      <td mat-cell *matCellDef="let row" class="cell"> {{row.responsible}} </td>
    </ng-container>

    <!-- operator Column -->
    <ng-container matColumnDef="operator">
      <th mat-header-cell *matHeaderCellDef class="header">
        <div class="header-div">
          <a mat-sort-header class="header-sort" *ngIf="!showOperatorFilter">
            {{'i18n_ATM_SEARCH.operator' | translate}}
          </a>
          <mat-form-field [ngClass]="showOperatorFilter ? '' : 'hide_element'" class="search-field">
            <input matInput placeholder="{{'i18n_ATM_SEARCH.operator' | translate}}" #searchOperatorFilter class="search-input"
              [(ngModel)]="filterEntity.operator" />
          </mat-form-field>
          <button class="search-button" (click)="toggleShowOperatorFilter()">
            <mat-icon matSuffix class="material-symbols-outlined actions-icon" aria-hidden="false" aria-label="Search">search</mat-icon>
          </button>
        </div>
      </th>
      <td mat-cell *matCellDef="let row" class="cell"> {{row.operator}} </td>
    </ng-container>

    <!-- actions Column -->
    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef class="header right-rounded">
        <div class="header-div">
          {{'i18n_ATM_SEARCH.actions' | translate}}
        </div>
      </th>
      <td mat-cell *matCellDef="let row; let i = index" class="cell" [ngClass]="i===0?'upper-right-rounded':''">
        <div class="actions-div">
          <mat-icon matSuffix class="material-symbols-outlined actions-icon" aria-hidden="false" aria-label="Edit">edit</mat-icon>
          <mat-icon matSuffix class="material-symbols-outlined actions-icon" aria-hidden="false" aria-label="Control" (click)="goToControl(row.id)">desktop_windows</mat-icon>
        </div>
      </td>
    </ng-container>

    <!-- spaceContainer Column -->
    <ng-container matColumnDef="spaceContainer">
      <th mat-header-cell *matHeaderCellDef colspan="20"></th>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns" class="header-row"></tr>
    <!-- <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr> -->
    <tr mat-header-row *matHeaderRowDef="['spaceContainer']" class="header-space-row" ></tr>
    
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="data-row"></tr>

    <!-- Row shown when there is no matching data. -->
    <!-- <tr class="mat-row" *matNoDataRow>
      <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
    </tr> -->
  </table>

  <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of atms"></mat-paginator>
</div>